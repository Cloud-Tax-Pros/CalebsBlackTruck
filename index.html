<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Caleb‚Äôs Black Truck | Book a Chauffeur</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="Caleb‚Äôs Black Truck ‚Äî Private Chauffeur Service. Book professional luxury transportation in Atlanta.">

<!-- FAVICON -->
<link rel="icon" href="black truck.jpg">

<!-- GOOGLE MAPS -->
<script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDSKvz-B8diZKPDchOQ_u0qJEqkSisEWjM&libraries=places"
  defer
></script>

<!-- FONTS -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@400;500&display=swap" rel="stylesheet">
<style>
.pickup-wrapper {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

#useLocation {
  background: #111;
  color: #fff;
  border: 1px solid #444;
  padding: 10px;
  border-radius: 6px;
  cursor: pointer;
}

#useLocation:hover {
  border-color: #8b0000;
}

/* Google dropdown */
.pac-container {
  background: #000;
  color: #fff;
  border: 1px solid #444;
  z-index: 9999;
}

.pac-item {
  padding: 10px;
  border-bottom: 1px solid #333;
}

.pac-item:hover {
  background: #111;
}
</style>

<style>
/* ===== GLOBAL ===== */
body {
  margin: 0;
  font-family: Inter, Arial, sans-serif;
  background: #000;
  color: #fff;
}

h1, h2 {
  font-family: "Playfair Display", serif;
}

.screen {
  display: none;
  padding: 24px;
}

.screen.active {
  display: block;
}

input, button {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  font-size: 16px;
  border-radius: 6px;
  border: none;
}

input {
  background: #111;
  color: #fff;
  border: 1px solid #444;
}

button {
  background: #8b0000;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
}

button:hover {
  background: #a00000;
}

/* ===== HEADER ===== */
.header {
  text-align: center;
  padding: 20px;
  border-bottom: 1px solid #333;
}

.header img {
  max-width: 180px;
  margin-bottom: 10px;
}

.header span {
  display: block;
  font-size: 14px;
  color: #aaa;
}

/* ===== MAP ===== */
#map {
  height: 280px;
  margin-top: 16px;
  border-radius: 10px;
}

/* ===== VEHICLES ===== */
.vehicle {
  border: 2px solid #333;
  padding: 16px;
  margin-top: 14px;
  border-radius: 10px;
  display: flex;
  gap: 15px;
  align-items: center;
  cursor: pointer;
}

.vehicle img {
  width: 120px;
  border-radius: 6px;
}

.vehicle.active {
  border-color: #8b0000;
}

/* ===== FOOTER ===== */
footer {
  text-align: center;
  padding: 20px;
  font-size: 13px;
  color: #777;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
  <img src="CalebsBlackTruck.png" alt="Caleb‚Äôs Black Truck Logo">
  <img src="black truck.jpg" alt="black truck">
  <span>Private Chauffeur Service ‚Ä¢ Atlanta</span>
</div>

<!-- SCREEN 1: ROUTE -->
<div class="screen active" id="screen-route">
  <h2>See Your Quote Before You Book</h2>
  <label>Pickup Location</label>

<div class="pickup-wrapper">
  <input
    type="text"
    id="pickup"
    placeholder="Enter pickup location"
    autocomplete="off"
    required
  />

  <button type="button" id="useLocation">
    üìç Set as my current location
  </button>
</div>


  <input id="pickup" placeholder="Pickup address">
  <button type="button"
  onclick="openNavigation(document.getElementById('pickup').value)">
  Start GPS Navigation
</button>

  <input id="dropoff" placeholder="Dropoff address">

  <button onclick="confirmRoute()">CONFIRM YOUR ROUTE</button>

  <div id="map"></div>
</div>
  <script>
let pickupAutocomplete;
let dropoffAutocomplete;

function initAutocomplete() {
  pickupAutocomplete = new google.maps.places.Autocomplete(
    document.getElementById("pickup"),
    { types: ["geocode"] }
  );

  dropoffAutocomplete = new google.maps.places.Autocomplete(
    document.getElementById("dropoff"),
    { types: ["geocode"] }
  );
}

// Wait until Google Maps loads
window.addEventListener("load", () => {
  if (window.google) {
    initAutocomplete();
  }
});
</script>

<!-- SCREEN 2: DATE / TIME -->
<div class="screen" id="screen-datetime">
  <h2>When Should We Pick You Up?</h2>

  <input type="date" id="date">
  <input type="time" id="time">

  <button onclick="confirmDate()">CONFIRM PICKUP</button>
</div>

<!-- SCREEN 3: FLIGHT -->
<div class="screen" id="screen-flight">
  <h2>Add Your Commercial Flight</h2>

  <input id="flight" placeholder="Flight number (optional)">

  <button onclick="confirmFlight()">ADD FLIGHT</button>
  <button onclick="confirmFlight()">SKIP</button>
</div>

<!-- SCREEN 4: VEHICLE -->
<div class="screen" id="screen-vehicle">
  <h2>Select Your Vehicle</h2>

  <div class="vehicle" onclick="selectVehicle('SUV ‚Äì 6 PAX', 1)">
    <img src="suv.png">
    <div>
      <strong>SUV ‚Äì 6 PAX</strong><br>
      $<span id="price-suv"></span>
    </div>
  </div>

  <div class="vehicle" onclick="selectVehicle('Executive SUV ‚Äì 6 PAX', 1.1)">
    <img src="exec-suv.png">
    <div>
      <strong>Executive SUV ‚Äì 6 PAX</strong><br>
      $<span id="price-exec"></span>
    </div>
  </div>

  <button onclick="confirmVehicle()">CONFIRM VEHICLE</button>
</div>

<!-- SCREEN 5: SUMMARY -->
<div class="screen" id="screen-summary">
  <h2>Your Trip</h2>

  <p id="summary"></p>
  <h3 id="total"></h3>

  <button onclick="payNow()">BOOK THIS TRIP</button>

<script>
function payNow() {
  window.location.href = "PASTE_YOUR_STRIPE_PAYMENT_LINK_HERE";
}
</script>

</div>

<footer>
  ¬© Caleb‚Äôs Black Truck ‚Ä¢ Private ‚Ä¢ Trusted ‚Ä¢ Atlanta
</footer>
  <script>
let pickupAutocomplete;
let dropoffAutocomplete;

function initAutocomplete() {
  pickupAutocomplete = new google.maps.places.Autocomplete(
    document.getElementById("pickup"),
    { types: ["geocode"] }
  );

  dropoffAutocomplete = new google.maps.places.Autocomplete(
    document.getElementById("dropoff"),
    { types: ["geocode"] }
  );
}

// Wait until Google Maps loads
window.addEventListener("load", () => {
  if (window.google) {
    initAutocomplete();
  }
});
</script>


<script>
let map, directionsService, directionsRenderer;
let miles = 0, minutes = 0;
let vehicle = "", multiplier = 1;
let baseFare = 0;

function show(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function confirmRoute() {
  directionsService = new google.maps.DirectionsService();
  directionsRenderer = new google.maps.DirectionsRenderer();

  map = new google.maps.Map(document.getElementById("map"), {
    zoom: 12,
    center: { lat: 33.749, lng: -84.388 }
  });

  directionsRenderer.setMap(map);

  directionsService.route({
    origin: document.getElementById("pickup").value,
    destination: document.getElementById("dropoff").value,
    travelMode: 'DRIVING'
  }, (result, status) => {
    if (status !== 'OK') {
      alert("Route not found");
      return;
    }

    directionsRenderer.setDirections(result);
    const leg = result.routes[0].legs[0];

    miles = leg.distance.value / 1609.34;
    minutes = leg.duration.value / 60;

    show("screen-datetime");
  });
}

function confirmDate() {
  show("screen-flight");
}

function confirmFlight() {
  const PER_MILE = 3.5;
  const PER_MINUTE = 0.75;
  const isPeak = new Date().getHours() >= 21;

  baseFare = (miles * PER_MILE) + (minutes * PER_MINUTE);
  if (isPeak) baseFare *= 1.25;

  document.getElementById("price-suv").innerText = baseFare.toFixed(2);
  document.getElementById("price-exec").innerText = (baseFare * 1.1).toFixed(2);

  show("screen-vehicle");
}

function selectVehicle(name, mult, el) {
  vehicle = name;
  multiplier = mult;

  document.querySelectorAll('.vehicle').forEach(v => v.classList.remove('active'));
  el.classList.add('active');
}

function confirmVehicle() {
  const totalCost = (baseFare * multiplier).toFixed(2);

  document.getElementById("summary").innerHTML = `
    <strong>Route:</strong><br>
    ${document.getElementById("pickup").value} ‚Üí ${document.getElementById("dropoff").value}<br><br>
    <strong>Vehicle:</strong> ${vehicle}
  `;

  document.getElementById("total").innerText = `Trip Total: $${totalCost}`;
  show("screen-summary");
}
</script>
  <script>
function openNavigation(address) {
  if (!address) {
    alert("Please enter a pickup address first.");
    return;
  }

  const encodedAddress = encodeURIComponent(address);

  // This opens Google Maps navigation
  const mapsUrl = `https://www.google.com/maps/dir/?api=1&destination=${encodedAddress}&travelmode=driving`;

  window.open(mapsUrl, "_blank");
}
</script>


<script>
let pickupAutocomplete;

function initAutocomplete() {
  pickupAutocomplete = new google.maps.places.Autocomplete(
    document.getElementById("pickup"),
    {
      types: ["geocode"],
      componentRestrictions: { country: "us" }
    }
  );
}

window.addEventListener("load", initAutocomplete);

// CURRENT LOCATION BUTTON
document.getElementById("useLocation").addEventListener("click", () => {
  if (!navigator.geolocation) {
    alert("Geolocation not supported");
    return;
  }

  navigator.geolocation.getCurrentPosition(
    async (position) => {
      const lat = position.coords.latitude;
      const lng = position.coords.longitude;

      const response = await fetch(
        `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=YOUR_API_KEY`
      );

      const data = await response.json();

      if (data.results && data.results.length > 0) {
        document.getElementById("pickup").value =
          data.results[0].formatted_address;
      } else {
        alert("Unable to determine address");
      }
    },
    () => alert("Location permission denied")
  );
});
</script>

</body>
</html>


