<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Caleb‚Äôs Black Truck | Book a Chauffeur</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="Caleb‚Äôs Black Truck ‚Äî Private Chauffeur Service. Book professional luxury transportation in Atlanta.">

<!-- FAVICON -->
<link rel="icon" href="black truck.jpg">

<!-- GOOGLE MAPS -->
<script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDSKvz-B8diZKPDchOQ_u0qJEqkSisEWjM&libraries=places&callback=initAutocomplete"
  async
></script>


<!-- FONTS -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@400;500&display=swap" rel="stylesheet">
<style>
.pickup-wrapper {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

#useLocation {
  background: #111;
  color: #fff;
  border: 1px solid #444;
  padding: 10px;
  border-radius: 6px;
  cursor: pointer;
}

#useLocation:hover {
  border-color: #8b0000;
}

/* Google dropdown */
.pac-container {
  background: #000;
  color: #fff;
  border: 1px solid #444;
  z-index: 9999;
}

.pac-item {
  padding: 10px;
  border-bottom: 1px solid #333;
}

.pac-item:hover {
  background: #111;
}
</style>

<style>
/* ===== GLOBAL ===== */
  #pickup-helper {
  display: none;
}

#pickup:focus ~ #pickup-helper {
  display: block;
}
  .pac-container {
  z-index: 10000 !important;
}


body {
  margin: 0;
  font-family: Inter, Arial, sans-serif;
  background: #000;
  color: #fff;
}
  .pickup-wrapper {
  position: relative;
}

.suggestions {
  position: absolute;
  width: 100%;
  background: #000;
  border: 1px solid #444;
  z-index: 9999;
}

.suggestion {
  padding: 12px;
  border-bottom: 1px solid #333;
  cursor: pointer;
}

.suggestion:hover {
  background: #111;
}

.suggestion small {
  display: block;
  font-size: 12px;
  color: #aaa;
}


h1, h2 {
  font-family: "Playfair Display", serif;
}

.screen {
  display: none;
  padding: 24px;
}

.screen.active {
  display: block;
}

input, button {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  font-size: 16px;
  border-radius: 6px;
  border: none;
}

input {
  background: #111;
  color: #fff;
  border: 1px solid #444;
}

button {
  background: #8b0000;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
}

button:hover {
  background: #a00000;
}

/* ===== HEADER ===== */
.header {
  text-align: center;
  padding: 20px;
  border-bottom: 1px solid #333;
}

.header img {
  max-width: 180px;
  margin-bottom: 10px;
}

.header span {
  display: block;
  font-size: 14px;
  color: #aaa;
}

/* ===== MAP ===== */
#map {
  height: 280px;
  margin-top: 16px;
  border-radius: 10px;
}

/* ===== VEHICLES ===== */
.vehicle {
  border: 2px solid #333;
  padding: 16px;
  margin-top: 14px;
  border-radius: 10px;
  display: flex;
  gap: 15px;
  align-items: center;
  cursor: pointer;
}

.vehicle img {
  width: 120px;
  border-radius: 6px;
}

.vehicle.active {
  border-color: #8b0000;
}

/* ===== FOOTER ===== */
footer {
  text-align: center;
  padding: 20px;
  font-size: 13px;
  color: #777;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
  <img src="CalebsBlackTruck.png" alt="Caleb‚Äôs Black Truck Logo">
  <img src="black truck.jpg" alt="black truck">
  <span>Private Chauffeur Service ‚Ä¢ Atlanta</span>
</div>
  

<!-- SCREEN 1: ROUTE -->
<div class="screen active" id="screen-route">
  <h2>See Your Quote Before You Book</h2>
<label>Pickup Location</label>

<div class="pickup-wrapper">
  <input
    type="text"
    id="pickup"
    placeholder="Enter pickup location"
    autocomplete="off"
    required
  />

  <button type="button" id="useLocation">
    üìç Set as my current location
  </button>
</div>

</div>



  <label>Dropoff Location</label>
  <input
    type="text"
    id="dropoff"
    placeholder="Enter dropoff location"
    autocomplete="off"
    required
  />
    <div id="dropoffSuggestions" class="suggestions"></div>

  <button onclick="confirmRoute()">CONFIRM YOUR ROUTE</button>

  <div id="map"></div>
</div>




<!-- SCREEN 2: DATE / TIME -->
<div class="screen" id="screen-datetime">
  <h2>When Should We Pick You Up?</h2>

  <input type="date" id="date">
  <input type="time" id="time">

  <button onclick="confirmPickup()">CONFIRM PICKUP</button>
</div>

<!-- SCREEN 3: FLIGHT -->
<div class="screen" id="screen-flight">
  <h2>Add Your Commercial Flight</h2>

  <input id="flight" placeholder="Flight number (optional)">

  <button onclick="confirmFlight()">ADD FLIGHT</button>
  <button onclick="confirmFlight()">SKIP</button>
</div>

<!-- SCREEN 4: VEHICLE -->
<div class="screen" id="screen-vehicle">
  <h2>Select Your Vehicle</h2>

  <div class="vehicle" onclick="selectVehicle('SUV ‚Äì 6 PAX', 1)">
    <img src="suv.png">
    <div>
      <strong>SUV ‚Äì 6 PAX</strong><br>
      $<span id="price-suv"></span>
    </div>
  </div>

  <div class="vehicle" onclick="selectVehicle('Executive SUV ‚Äì 6 PAX', 1.1)">
    <img src="exec-suv.png">
    <div>
      <strong>Executive SUV ‚Äì 6 PAX</strong><br>
      $<span id="price-exec"></span>
    </div>
  </div>

  <button onclick="confirmVehicle()">CONFIRM VEHICLE</button>
</div>

<!-- SCREEN 5: SUMMARY -->
<div class="screen" id="screen-summary">
  <h2>Your Trip</h2>

  <p id="summary"></p>
  <h3 id="total"></h3>

  <button onclick="payNow()">BOOK THIS TRIP</button>

<script>
function payNow() {
  window.location.href = "PASTE_YOUR_STRIPE_PAYMENT_LINK_HERE";
}
</script>

</div>

<footer>
  ¬© Caleb‚Äôs Black Truck ‚Ä¢ Private ‚Ä¢ Trusted ‚Ä¢ Atlanta
</footer>
  
<script>
let autocompleteService;
let geocoder;

function initPickupSearch() {
  autocompleteService = new google.maps.places.AutocompleteService();
  geocoder = new google.maps.Geocoder();

  const input = document.getElementById("pickup");
  const list = document.getElementById("pickupSuggestions");

  input.addEventListener("input", () => {
    const value = input.value;
    if (!value) {
      list.style.display = "none";
      return;
    }

    autocompleteService.getPlacePredictions(
      {
        input: value,
        types: ["geocode", "airport"],
        componentRestrictions: { country: "us" }
      },
      (predictions, status) => {
        list.innerHTML = "";
        if (!predictions || status !== "OK") return;

        // üîù Current location option
        const current = document.createElement("div");
        current.className = "suggestion-item";
        current.innerHTML = `<span class="icon">üìç</span> Set As My Current Location`;
        current.onclick = getCurrentLocation;
        list.appendChild(current);

        predictions.forEach(p => {
          const div = document.createElement("div");
          div.className = "suggestion-item";
          div.innerHTML = `
            <span class="icon">‚úàÔ∏è</span>
            <div>
              <strong>${p.structured_formatting.main_text}</strong><br>
              <small>${p.structured_formatting.secondary_text || ""}</small>
            </div>
          `;
          div.onclick = () => {
            input.value = p.description;
            list.style.display = "none";
          };
          list.appendChild(div);
        });

        list.style.display = "block";
      }
    );
  });
}

function getCurrentLocation() {
  navigator.geolocation.getCurrentPosition(pos => {
    const latlng = {
      lat: pos.coords.latitude,
      lng: pos.coords.longitude
    };

    geocoder.geocode({ location: latlng }, (results) => {
      if (results[0]) {
        document.getElementById("pickup").value = results[0].formatted_address;
        document.getElementById("pickupSuggestions").style.display = "none";
      }
    });
  });
}

window.addEventListener("load", initPickupSearch);
</script>



<script>
let pickupAutocomplete;
let dropoffAutocomplete;

function initAutocomplete() {
  pickupAutocomplete = new google.maps.places.Autocomplete(
    document.getElementById("pickup"),
    {
      types: ["geocode", "establishment"],
      componentRestrictions: { country: "us" }
    }
  );

  dropoffAutocomplete = new google.maps.places.Autocomplete(
    document.getElementById("dropoff"),
    {
      types: ["geocode", "establishment"],
      componentRestrictions: { country: "us" }
    }
  );

  pickupAutocomplete.addListener("place_changed", () => {
    document.getElementById("pickup-helper").style.display = "none";
  });
}
</script>
  <script>
document.getElementById("useCurrentLocation").addEventListener("click", async () => {
  if (!navigator.geolocation) {
    alert("Geolocation not supported");
    return;
  }

  navigator.geolocation.getCurrentPosition(async (pos) => {
    const lat = pos.coords.latitude;
    const lng = pos.coords.longitude;

    const response = await fetch(
      `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=AIzaSyDSKvz-B8diZKPDchOQ_u0qJEqkSisEWjM`
    );

    const data = await response.json();

    if (data.results && data.results.length > 0) {
      document.getElementById("pickup").value =
        data.results[0].formatted_address;

      document.getElementById("pickup-helper").style.display = "none";
    } else {
      alert("Unable to determine address");
    }
  },
  () => alert("Location permission denied"));
});
</script>

<script>
let pickupAutocomplete;

function initAutocomplete() {
  pickupAutocomplete = new google.maps.places.Autocomplete(
    document.getElementById("pickup"),
    {
      types: ["geocode"],
      componentRestrictions: { country: "us" }
    }
  );
}

window.addEventListener("load", initAutocomplete);

// CURRENT LOCATION BUTTON
document.getElementById("useLocation").addEventListener("click", () => {
  if (!navigator.geolocation) {
    alert("Geolocation not supported");
    return;
  }

  navigator.geolocation.getCurrentPosition(
    async (position) => {
      const lat = position.coords.latitude;
      const lng = position.coords.longitude;

      const response = await fetch(
        `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=AIzaSyDSKvz-B8diZKPDchOQ_u0qJEqkSisEWjM`
      );

      const data = await response.json();

      if (data.results && data.results.length > 0) {
        document.getElementById("pickup").value =
          data.results[0].formatted_address;
      } else {
        alert("Unable to determine address");
      }
    },
    () => alert("Location permission denied")
  );
});
</script>
<script>
let pickupFilledByGPS = false;

document.getElementById("pickup").addEventListener("focus", () => {
  if (pickupFilledByGPS) return;

  if (!navigator.geolocation) return;

  navigator.geolocation.getCurrentPosition(async (pos) => {
    const lat = pos.coords.latitude;
    const lng = pos.coords.longitude;

    try {
      const res = await fetch(
        `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=AIzaSyDSKvz-B8diZKPDchOQ_u0qJEqkSisEWjM`
      );
      const data = await res.json();

      if (data.results && data.results.length > 0) {
        document.getElementById("pickup").value =
          data.results[0].formatted_address;

        pickupFilledByGPS = true;
      }
    } catch (e) {
      console.log("GPS lookup failed");
    }
  });
});
</script>
<script>
let map, directionsService, directionsRenderer;

/* SCREEN SWITCHER */
function show(id) {
  document.querySelectorAll(".screen").forEach(s =>
    s.classList.remove("active")
  );
  document.getElementById(id).classList.add("active");
}

/* CONFIRM ROUTE */
function confirmRoute() {
  const pickup = document.getElementById("pickup").value.trim();
  const dropoff = document.getElementById("dropoff").value.trim();

  if (!pickup || !dropoff) {
    alert("Please enter both pickup and dropoff locations");
    return;
  }

  directionsService = new google.maps.DirectionsService();
  directionsRenderer = new google.maps.DirectionsRenderer();

  map = new google.maps.Map(document.getElementById("map"), {
    zoom: 12,
    center: { lat: 33.749, lng: -84.388 } // Atlanta default
  });

  directionsRenderer.setMap(map);

  directionsService.route(
    {
      origin: pickup,
      destination: dropoff,
      travelMode: google.maps.TravelMode.DRIVING
    },
    (result, status) => {
      if (status !== "OK") {
        alert("Route not found. Please check addresses.");
        return;
      }

      directionsRenderer.setDirections(result);

      // Move to next screen
      show("screen-datetime");
    }
  );
}
  confirmPickupBtn.addEventListener("click", () => {
  if (!pickupInput.value || pickupInput.value.startsWith("Tap")) {
    statusText.textContent = "Please tap the pickup field to get location.";
    return;
  }

  pickupInput.disabled = true;
  confirmPickupBtn.disabled = true;

  statusText.textContent = "Pickup confirmed ‚úîÔ∏è";
});

</script>

<script>
function confirmPickup() {
  // hide Date/Time screen
  document.getElementById("screen-datetime").classList.remove("active");

  // show Flight screen
  document.getElementById("screen-flight").classList.add("active");
}
</script>
  <script>
function confirmFlight() {
  // hide Flight screen
  document.getElementById("screen-flight").classList.remove("active");

  // show Vehicle screen
  document.getElementById("screen-vehicle").classList.add("active");
}
</script>
  

<script>
function confirmVehicle() {
  // Move to Summary screen
  show("screen-summary");

  // OPTIONAL: build trip summary (safe even if fields are empty)
  const pickup = document.getElementById("pickup")?.value || "";
  const dropoff = document.getElementById("dropoff")?.value || "";
  const date = document.getElementById("date")?.value || "";
  const time = document.getElementById("time")?.value || "";

  document.getElementById("summary").innerHTML = `
    <strong>Pickup:</strong> ${pickup}<br>
    <strong>Dropoff:</strong> ${dropoff}<br>
    <strong>Date:</strong> ${date}<br>
    <strong>Time:</strong> ${time}
  `;
}
  </script>
  <script>
function payNow() {
  // TEMP CONFIRMATION (to prove connection works)
  alert("Booking confirmed! Redirecting to payment.");

  // üîó REDIRECT (replace with your real Stripe or booking link)
  window.location.href = "https://your-payment-link-here.com";
}
</script>
  <script>
(function () {
  const dropoffInput = document.getElementById("dropoff");

  const airports = [
    {
      label: "‚úàÔ∏è Hartsfield‚ÄìJackson Atlanta International Airport (ATL)",
      value: "6000 N Terminal Pkwy, Atlanta, GA 30320"
    },
    {
      label: "‚úàÔ∏è DeKalb‚ÄìPeachtree Airport (PDK)",
      value: "2000 Airport Rd, Atlanta, GA 30341"
    }
  ];

  dropoffInput.addEventListener("focus", () => {
    setTimeout(() => {
      const pac = document.querySelector(".pac-container");
      if (!pac || pac.dataset.airportsAdded) return;

      pac.dataset.airportsAdded = "true";

      airports.slice().reverse().forEach(airport => {
        const div = document.createElement("div");
        div.className = "pac-item";
        div.innerHTML = `<strong>${airport.label}</strong>`;
        div.onclick = () => {
          dropoffInput.value = airport.value;
        };
        pac.prepend(div);
      });
    }, 300);
  });
})();
</script>
  <script>
(function () {
  const dropoffInput = document.getElementById("dropoff");

  const airports = [
    {
      name: "‚úàÔ∏è Hartsfield‚ÄìJackson Atlanta International Airport (ATL)",
      address: "6000 N Terminal Pkwy, Atlanta, GA 30320",
      lat: 33.6407,
      lng: -84.4277
    },
    {
      name: "‚úàÔ∏è DeKalb‚ÄìPeachtree Airport (PDK)",
      address: "2000 Airport Rd, Atlanta, GA 30341",
      lat: 33.8756,
      lng: -84.3019
    }
  ];

  function distance(lat1, lng1, lat2, lng2) {
    return Math.sqrt(
      Math.pow(lat1 - lat2, 2) + Math.pow(lng1 - lng2, 2)
    );
  }

  dropoffInput.addEventListener("focus", () => {
    if (!navigator.geolocation) return;

    navigator.geolocation.getCurrentPosition(pos => {
      const userLat = pos.coords.latitude;
      const userLng = pos.coords.longitude;

      airports.sort(
        (a, b) =>
          distance(userLat, userLng, a.lat, a.lng) -
          distance(userLat, userLng, b.lat, b.lng)
      );

      setTimeout(() => {
        const pac = document.querySelector(".pac-container");
        if (!pac || pac.dataset.airportsAdded) return;

        pac.dataset.airportsAdded = "true";

        airports.slice().reverse().forEach(airport => {
          const div = document.createElement("div");
          div.className = "pac-item airport-option";
          div.innerHTML = `<strong>${airport.name}</strong>`;
          div.onclick = () => {
            dropoffInput.value = airport.address;
          };
          pac.prepend(div);
        });
      }, 300);
    });
  });
})();
</script>


</body>
</html>
